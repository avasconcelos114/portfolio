<!DOCTYPE html>
<html data-html-server-rendered="true" lang="en" data-vue-tag="lang">
    <head>
        <script>window.ScrollTo || document.write('<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/2.0.2/plugins/ScrollToPlugin.min.js">\x3C/script>')</script>
        <meta name="viewport" content="width=device-width, initial-scale=1.0, minimal-ui, viewport-fit=cover">
        <meta property="og:image" content="https://avasconcelos114.github.io/portfolio/meta_image_og.png">
        <meta property="og:image:height" content="256">
        <meta property="og:image:width" content="256">
        <meta property="og:description"
            content="Andre Vasconcelos's portfolio & blog. Come follow his journey across the tech landscape as he tries to make sense of the latest trends in AR, VR, Web, and Mobile development!">
        <meta property="og:title" content="Andre Vasconcelos - Portfolio & Blog">
        <meta property="og:url" content="https://avasconcelos114.github.io/portfolio">

        <meta name="twitter:card" content="summary" />
        <meta name="twitter:creator" content="@Andretitov" />
        <meta name="twitter:title" content="Andre Vasconcelos - Portfolio & Blog" />
        <meta name="twitter:description"
            content="Andre Vasconcelos's portfolio & blog. Come follow his journey across the tech landscape as he tries to make sense of the latest trends in AR, VR, Web, and Mobile development!" />
        <meta name="twitter:image" content="https://avasconcelos114.github.io/portfolio/meta_image.png" />
        <!-- Global site tag (gtag.js) - Google Analytics -->
        <script async src="https://www.googletagmanager.com/gtag/js?id=UA-146331739-1"></script>
        <script>
            window.dataLayer = window.dataLayer || [];
            function gtag() { dataLayer.push(arguments); }
            gtag('js', new Date());

            gtag('config', 'UA-146331739-1');
        </script>

        <title data-vue-tag="true">MVP...E? - ARKit development and how to scale your AR apps - Portfolio</title><meta data-vue-tag="true" charset="utf-8"><meta data-vue-tag="true" name="generator" content="Gridsome v0.6.9"><meta data-vue-tag="true" data-key="viewport" name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover"><meta data-vue-tag="true" data-key="format-detection" name="format-detection" content="telephone=no"><meta data-vue-tag="true" data-key="description" name="description" content="Andre Vasconcelos&#x27;s portfolio &amp; blog. Come follow his journey across the tech landscape as he tries to make sense of the latest trends in AR, VR, Web, and Mobile development!"><meta data-vue-tag="true" name="keywords" content="Portfolio,Blog,Blogfolio,VR,AR,Web,Developer,Mobile"><meta data-vue-tag="true" name="theme-color" content="#DEC79B"><meta data-vue-tag="true" name="description" content="The challenges of AR Development on iOS and how to overcome Massive View Controllers."><link data-vue-tag="true" rel="icon" type="image/png" sizes="16x16" href="/portfolio/assets/static/personal_logo_dark_32.ce0531f.47c08a6.png"><link data-vue-tag="true" rel="icon" type="image/png" sizes="32x32" href="/portfolio/assets/static/personal_logo_dark_32.ac8d93a.47c08a6.png"><link data-vue-tag="true" rel="apple-touch-icon" type="image/png" sizes="32x32" href="/portfolio/assets/static/personal_logo_dark_32.ac8d93a.47c08a6.png"><noscript data-vue-tag="true" ><style>.g-image--loading{display:none;}</style></noscript><link rel="preload" href="/portfolio/assets/css/0.styles.f29d1dac.css" as="style"><link rel="preload" href="/portfolio/assets/js/app.765d9c56.js" as="script"><link rel="preload" href="/portfolio/assets/js/page--src--templates--post-vue.1ea4ec55.js" as="script"><link rel="prefetch" href="/portfolio/assets/js/page--node-modules--gridsome--app--pages--404-vue.b9767b80.js"><link rel="prefetch" href="/portfolio/assets/js/page--src--pages--blog-vue.55efec8b.js"><link rel="prefetch" href="/portfolio/assets/js/page--src--pages--contact-vue.a1dc1978.js"><link rel="prefetch" href="/portfolio/assets/js/page--src--pages--index-vue.436e6913.js"><link rel="prefetch" href="/portfolio/assets/js/page--src--pages--my-work-vue.dfbc760b.js"><link rel="prefetch" href="/portfolio/assets/js/page--src--templates--tag-vue.7c298d7a.js"><link rel="prefetch" href="/portfolio/assets/js/vendors~page--src--pages--index-vue.cefc310d.js"><link rel="stylesheet" href="/portfolio/assets/css/0.styles.f29d1dac.css">
    </head>
    <body data-vue-tag="">
        <div data-server-rendered="true" id="app" class="main-wrapper"><img alt="background_img" src="data:image/svg+xml,%3csvg fill='none' viewBox='0 0 1920 844' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3e%3cdefs%3e%3cfilter id='__svg-blur-38'%3e%3cfeGaussianBlur in='SourceGraphic' stdDeviation='40'/%3e%3c/filter%3e%3c/defs%3e%3cimage x='0' y='0' filter='url(%23__svg-blur-38)' width='1920' height='844' xlink:href='data:image/jpeg%3bbase64%2c/9j/2wBDAAYEBQYFBAYGBQYHBwYIChAKCgkJChQODwwQFxQYGBcUFhYaHSUfGhsjHBYWICwgIyYnKSopGR8tMC0oMCUoKSj/2wBDAQcHBwoIChMKChMoGhYaKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCj/wAARCAAcAEADASIAAhEBAxEB/8QAGgABAQEAAwEAAAAAAAAAAAAAAwQCAAEFCP/EABoQAAMBAQEBAAAAAAAAAAAAAAABAgMhETH/xAAWAQEBAQAAAAAAAAAAAAAAAAABAAL/xAAUEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwD5oSEzn0zK6PkvWaTeefo05emsl6ymJ9EJKyC0zPRuUTaz0k87SfGE10r1XSel0C5P0fJ9J0JDJLsq6URZDm2NNPohTVk%2btdOnT6Fo30kPV9Ar6bt%2bsMC//9k=' /%3e%3c/svg%3e" width="1920" data-src="/portfolio/assets/static/main_background.2665e34.44c9cce.jpg" data-srcset="/portfolio/assets/static/main_background.82a2fbd.44c9cce.jpg 480w, /portfolio/assets/static/main_background.cbab2cf.44c9cce.jpg 1024w, /portfolio/assets/static/main_background.2665e34.44c9cce.jpg 1920w" data-sizes="(max-width: 1920px) 100vw, 1920px" class="background g-image g-image--lazy g-image--loading"><noscript><img src="/portfolio/assets/static/main_background.2665e34.44c9cce.jpg" class="background g-image g-image--loaded" width="1920" alt="background_img"></noscript><header class="header"><nav class="nav"><a href="/portfolio/" class="nav__link active">About</a><a href="/portfolio/blog" class="nav__link active">Blog</a><a href="/portfolio/my-work" class="nav__link">My work</a><a href="/portfolio/contact" class="nav__link">Contact me</a></nav></header><div class="header-margin"></div><div id="layout"><div class="post-title"><h1 class="post-title__text">
        MVP...E? - ARKit development and how to scale your AR apps
      </h1><div class="post-meta">
   Posted 11. December 2019.
   <strong>4 min read.</strong></div></div><div class="post content-box"><div><div class="post__header"><!----></div><div class="post__content"><h4 id="introduction"><a href="#introduction" aria-hidden="true"><span class="icon icon-link"></span></a>Introduction</h4>
<p>There is little doubt that VR and AR are becoming some of the hottest topics in tech right now. With constant leaks and speculations of what would a more refined version of a VR/AR headset look like. While companies like Oculus, HTC, and Valve are fighting for the top spot in Virtual Reality headsets, when it comes to Augmented Reality, one of the companies whose name come out on top (despite not having released its version of AR glasses) is Apple.</p>
<p>The reason being that Apple has invested heavily in companies developing AR tech, and have gone as far as creating its own development kit for AR experiences and games, called ARKit, which uses the camera functionalities of your phone to find surfaces and reference points, to which you are able to attach your own 3D objects to (in a nutshell).</p>
<h4 id="the-mvc-problem"><a href="#the-mvc-problem" aria-hidden="true"><span class="icon icon-link"></span></a>The MVC problem</h4>
<p>While there are plenty of tutorials online that will get you covered on how to initiate your own scenes, and attach child nodes, animate them, or import your own assets to your project, there haven't been any tutorials that cover a smart way to organize your app to allow it to scale gracefully.</p>
<p>What this means is that by following Apple's MVC design pattern, you end up creating your whole scene and interactions onto the ViewController itself, which then leaves you with <strong>massive</strong> view controllers, and no easy way to refactor them into easier to manage sections.</p>
<p>Realizing this problem, I set out to try and implement other well-known design patterns for iOS apps, and find the one that fits best alongside ARKit applications.</p>
<h4 id="iteration-is-key"><a href="#iteration-is-key" aria-hidden="true"><span class="icon icon-link"></span></a>Iteration is key</h4>
<p>As I was (and still am) a newcomer to iOS development, the first thing I needed to do would be to list out the available design patterns, with their respective characteristics:</p>
<p>MVC: Stands for Model-View-Controller, where the Model defines the state of the application, the view represents UI components, and the controller is responsible for allowing users to interact with the application's state.</p>
<p>MVVM: Stands for Model-View-ViewModel, where the Model and View behave similarly to the MVC pattern, but the ViewModel is added to transform values from the model so that they can be used in the view.</p>
<p>VIPER: Stands for View-Interactor-Presenter-Entities-Router, which provides a divided separation of concerns where the View displays information that is received from the Presenter, the Interactor retrieves entities and processes business logic, Entities are simple data objects (similar to Models), and the Router handles app navigation.  </p>
<p>MVP: Stands for Model-View-Presenter, where the view handles the display of information and changes to the view itself, the presenter processes business logic and returns them to the view, and the Models are simple data structs.</p>
<p>Looking at the basic descriptions of each pattern, it was hard to figure out exactly where should I be adding interactions and behavior to my AR entities, and a few failed experiments later, I've come to the conclusion that none of the currently popular design patterns can be efficiently utilized to design a reasonable large-scale AR app. A quick overview of my findings went as below:  </p>
<ul>
<li>MVC: <code class="language-text">ViewController</code>s become too massive too quickly.</li>
<li>MVVM:Â  Does not translate well into ARKit functionality, as the <code class="language-text">ViewModel</code> would require access to modify the <code class="language-text">ARSCNView</code> outlet (which goes against the original pattern of having information flow FROM the <code class="language-text">ViewModel</code> TO the <code class="language-text">ViewController</code>)</li>
<li>VIPER:Â Â Most used for applications with various screens, as most of the logic in an AR app gets rendered in a single storyboard View, the VIPER design pattern is unnecessarily complex for the scope of this project.  </li>
<li>MVP: Having to add all entity manipulation logic on top of all of the business logic makes it just as susceptibleÂ to have massive Presenter files as the MVC pattern would have massive ViewControllers</li>
</ul>
<h4 id="the-answer"><a href="#the-answer" aria-hidden="true"><span class="icon icon-link"></span></a>The Answer</h4>
<p>The answer as I've found, is to add a separate element to design patterns that are solely responsible for controlling an individual SCNNode element, my initial sketch of how the application would function went as below (please forgive my poor handwriting)</p>
<p><img class="g-image g-image--lazy g-image--loading" src="data:image/svg+xml,%3csvg fill='none' viewBox='0 0 1430 1240' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3e%3cdefs%3e%3cfilter id='__svg-blur-21'%3e%3cfeGaussianBlur in='SourceGraphic' stdDeviation='40'/%3e%3c/filter%3e%3c/defs%3e%3cimage x='0' y='0' filter='url(%23__svg-blur-21)' width='1430' height='1240' xlink:href='data:image/png%3bbase64%2ciVBORw0KGgoAAAANSUhEUgAAAEAAAAA3CAYAAAC8TkynAAAACXBIWXMAABYlAAAWJQFJUiTwAAATXElEQVRo3t2aaZAcVXLHe3EEDsxijWSxMmJxEA77k%2b1dFtnsrj9g4TAWkpAAIYM2vGt2vbYc1hfL5pCQEGtASFgXutCaABbD6kBCCB3oPkf3fd/S6Bxdo9E1mpme7p7p9PtlVda8qq4eifU3V8SL7q6qfvUy85%2bZ/8xXmdeGDpWhQ4fIkCGv6ufKlSulKZeT/6/H8ePHpc8zfaR3r17Ss0cPyZjwr746WEaOHCG5fF5vbG5pkUJzc8nIFwpys75e7%2bO7jQIjvF5ucJ15beicbdyT9nz//8lR7r6ik6ferfngwYOyfv166ftsX3nyySelR3engNdeCxAwePAgee%2b9ydLi/tBSLJYONwmfTAZC7Hwx1GwxHHZwTRK/EZCFNDQ2St4pMJtt0sUWw%2bu/yWgO15s8/OscJ0%2bdkn7P95MB/zpAnn76mVYFvP76MPnFL15XFHz%2b%2beexP6cNHpVtaoq%2bI1R1dbVcvXZNhbl0qUbOnT%2bvwtU3NMiFixfl4qVLksvlperECTly5IiccJ9cM2t9XQUUU4RlTXU3b6qgfPpycL%2bhguPnP/8n6dbtCenRo6dk3nzzDXn77eGqgLVr10bwL3pWTQ5TgITfq8%2bdU6tyjodfv3Ejuo/vKMeHoyRQ83UHwqDA2itXVJmnnNCnTp%2bWK1evqvKPHD0aKcCeh8uucvFt4cKF8pOf/IN0d9ZXBQwf/pYqACTs279Pb/Z9qCXF1xC2uaX1HhPGvrcqsRgtpKzv3sKvbQ0t3rNOnDwpS5ctky1btqjgrMc/Dh06HJ1jnRyN2az8yLnAT1/4qTz/3PPSo2fPQAEjRoxQBbzzzkjVnikgUEJzajBqcNrPpwQ9P6j5QbPQXEgNaNH/w4BaKDOnKYLfHJdqLsmXX85V1wJhp0%2bfUZRdcYi4cOGiIuLM2bMxY7Z4xhk/frx0fewxFwd6SQbBQcG4cePkpoOv7y9%2bRG1ddEEVYEL5WaDZC6CR9YrB8AWNMoj7ZI5k1gmgG/q8O48r8bxAoIIaasnSpXLmTCB4VdUJp4TTsnv3bmf9Q3ru2LFjiXUUZeZnM2Xc2LHy3N89Jz/4/g%2bk6191DRRAHJgyZYouSv9UxlpMlHMZoDF0geR1/PJGXZ1ahVjA7zr3mwWROQwh/nxAde%2b%2bfbJ//wENYCcdvDc7aG/evEUOHDgQoRIlHHM5fPeePXpu565d%2br897vfly7Uq8P79%2b9UlWAOQ95XK0f%2bf%2b0svZ/W/7vqYdKhoL3/wwAMo4B15443/lE8%2b%2bZ%2by%2bde3cJNbSGNj6%2bSmtBtOaBaPsDWXL2tAunb9ui6GRXMOq7byh7yijQC6YuUquXr1mhx2GeLgwUNy9OgxOegsyZy7nFVXr14t69atd0IeV0VwMP%2bRI0c1tx85cljOukxk1yxYtkQILMZS5ccffyyZTEbuvfdeyYwa9V/y1ltvuhQ4K4BiG0TEFJB12jVr2r2Qo3PnzqtwWBtBL9fW6pxAFUVIIgNwgJaNGzfpfOcvXFDrXnSp81JNjV4j0K1YsUItKmHabQpdgjl5LucsJYMK/N%2bMgIJBFt%2bnz5ghw4YNk379npe77rpLOnbsKJkxY0ZrDFi48KvWoFHWBZojBcRihBsIDQyxxPGqKhXk7NlqXRifpKYrV66qMi5evOSC1QVdKHCf5fgH88EZjh%2bv0iiPAphr27ZtEYTLHa1IzcvOnTvVdUAiiiRNmvLHjBkrXR38H3MB8J57vikdfq9CMmPHjlEXWL1mdaThSOhEBFcEOEEhOS2JIIkvHz58WAPbOaf1o05gdRenLKwwd%2b48OeSuMxD8tFME6WrBgq9k2vQZYYwoREEylw/qEVCFO/CJJaurz%2bl3Ps%2bfv6DCBSgM1oK7VRk3cIPgiOJBVy6scaZOnSrt27eTDh0qQECggE2bNkWEoSRNsagQ1oECsrF7ghhQp9bFD3e5AIVvXnJpisWygBMnTpa14Eb37LowAxUTVBooT5w4WZYuXSarVgWxYMeOHc7Su1SR27fvCIJzWMNs3bpV0cMgaLIWkADilrrMMWTIUOnbt68TvkOggHHjxsoIxwN27toZICChAEshpgwsY7WAT4SwxOHDR1xEvqzU2DICCMDaBDirIwIL56OgtXLVKs3lzI%2blzHIob9%2b%2b/TJ/wQJ1G4Qi9zM3qODYsHFjmCYDNwFhuFBNzWUNkhjF5sbyD3z7AXn00Ued8O0VBZl33x0no0ePUr8xF0gGQj8LZJuyQRr0zhfCqI7fB/CsVprKIBOwcIJVS0hm/IEisfKmTZvl3wb%2bhyrqrLMs6QzFVYV1Q7LgIlvgWvvdurGwcQlcEYTs2btXDXLUxaXKykqdF8UokXJK/Pb990u7dt%2bUzMQJ4wUUUKSUxAB/qAKaI782Zua7iRKYkEf4pMhocuROIQIsoltae2XQYNniIJwW5KL7Qz8mPe7du0%2bFQlBzXx%2bxphAzLmiYOnWafPrpp1JR0c4Fwrsl896kSTJxwgTHpqpiETVJaY3A4P9GakrocL4Qo75p/QA/cyQpLlCvDAsy31Va589Hvk5ARAEaHE%2beihTgP8sUceDAQb2%2bevUa6dz5funUqZM80a2b/PEf/aFkpkyeLBMcNwZybSHAzkOX/QUVCkEK9P/X7NHn5kQwzScaKXaOAzdYvnyFBlzf6gG6WmKowC1ggQTQtevWpafHkB/gRnAKU3aNc8kf//jvpaL9PZKZNHGiTJ400QWXiykKiCMAYWhoNIfaNXjHvntWzUfxoVCSVZKjGPr1/PkLPBobKAe3Io4Q%2bIj8xBrS7OIlS9Sq010axRXgDFDk7S4GAHtDC7HkWkjHt2zdpuj5sz/9E2nfzikA4T/84APVqEGmfAxoUXpKdIfj47cEIIJYrWN9tVdqlYCgpOA/pXO0pQAi%2bKxZn2vaNGbXmt62ueC2U5FKnQDZIsoTCFEOSkEw5oBAEUtmzPhM6wMKJOTjP52%2b1Um%2b/xePSJfvflce%2bs53HAKc/0%2bfNk01XdpXi1eD2PiUBp3DMnPmTG2gkGuvOkUQ8VEE8ILdNXm8wfdnGwUPIfxGYIT7cu5czRjmAqYA0uGhMNjtc0IhMOUvGQdDFEO3MP4AK12yZGl0H25FukRJELWePbpL507fckzQESHqAJ9NtdbpXtR2E3DPWQcncu/Agf8u77//vuPpK9U6DIoVlGABNXn4DRMLfP5xwJEnGh0IYYoj6CIS1oPlccAFyAJUkCht167d6hKQHqj0qbA0Nq5Q9Mpt/gtiejgF3Hnnb7lqcORImTNnTnRTWxWhdmOgme4B5FoWQZ4FdgSa02HRg1KAHkGKwIZPbtmyVRfEfTscX8dCCAysEYz5Fi1eLFudH6cdwHrPnr2tcSpMidZs9ZsnHLjixpDd5kP3xZAPP9zF5f8KR4IqXC3QDgWMcIFnXjwFRikq7r%2bafpwLQFSAKfkXPg9zg2rij9xHUJo9%2bwtNa0D6146Bzf5ijqs31siiRYsUmlDWr75aKDNnzZIv3LVFixbLuvXrXTW3X619wAVE5t/gKsW58%2bbLnC/nOmUfj9pcRa/VlgzCErbBoc8%2bvUcRC93zVznm2a/fcwEC3nR1wNKlS6K00VbrSsmEsz4oSHaPLd3hZ1iKhxLNGdoYCRsk/IacgBRYIgtFmZznHusnAFUGlSQo%2bmzmLI0tuAQpjf8aH2E%2bewa9CpgqcWHZsuUxMmXploN9kG98IxNsjESVoFcHpKUuhCSAQEDMp5M9ee5DAX4q9JufBt9kX9/vQRZTXIC1UTmudAURSFq/YYN88umvHcLmqXuAIFxs7dp1SnsZex0dJjsRCCnGwMiAAQPkvvvuUxdo3/53JUM7fIObLIBKLt6zc/xeiYv18pzGz7vJ4NnU7kRgYE8cIB7gy6QcHmxosABqRVQsK0Sf%2bTjri74HzzailTxQNNUgB2mPe0jToAbai2IorshQoARXHTp0qAwaPFh69%2b4ld9/924ECokrQ6%2bxGRMgLMPD2hoZGhRrCo1kIhhU8NWEXBziXZX2xkY/VB%2bnbaQWvEm1tqpqCD4WRHgMgbNA1rnHCnlZiRMOU1MfaaMpcv35D75k7b662xTKDBr2iEdsQkOTekQV0KyurPmsLMMuoL1oxFAadtNyfC%2beL8QNLd3Sa3PD5Q85DX4TEBN8nJXMgHBbnIKYQAyjNzSDWDJkxY4YLgD8SNoW7PPyQZF555WWNuskNkXIbFFh%2bzZpKhfv27dv1oRe09XRSXYEUBzG6nfkKt7EpcquB5YNd3ypNw/7OVnJfMmiLjZEHH3xQnnn6KTd6S%2bbll19SPzYXMF/3LWDWI5AddJUVTAwGiOLg5kCPyA0KyPdAzrbGIqva8Hw9WTgly%2bWoAxXOYcTI5uNeYgDPghZXhdmpKbF%2bH3W2U1RZuUZ%2b5%2b47JfPSSy9p97YYRlrf/0poq2OGGzdsVItrHeDSFDHA0hj3VFauVdgFtX4rxJs8BdBTvHYtjBtOcTwf/k8sCVJZYyR0crdaEi4GEnkWSIQuR8E8sQljlJrsQKZYtnyZdOxYgQsMilrOt9q3o7ipdPBnMoRHEURXfusOrZtn2bIVsY1Jv4tjn8AW%2bsonuX27Y4N0doAwiEKYM2fOaiDDslR6sEaQx6dPqclIGADFbXJFUokcHj/h%2bPCjj%2bSOO%2b6Qzp1/XyoqXDU4bNjrehFo5FNSUQyO7r7ljlyY9qNt8tA6KINcbUTlcm1QHGFh3ITKkZSE4Cid/2xzcQToco%2b%2bN1DIR2QJcnM9rD6vhkij3A3aZtXO1U4r3SXXIyzcIGl1K4Js9xqjkfVmz54t3/veQ8HmaHOS/JR56yPrJoHnK0zDRQJlYMzijrlAtGjxEm1CkoctVWJJNiywHmSF/G0LxOJ0dLBytOMUlsf%2bNr0d%2b1wBNHXadPX9jY4hQpdra68oIqG%2bCOlT30LJ5m3rHkOfPs9KZvz4CVEATAafXD5ORK47q7KNBWRhg1rkOAJCAYMvMlhM4AItsY1JO1Ac2cK2uVGIvXLDJwjB4iiuru6m7vsZgpgHN5jmFMB92u4OMxDKZT5TQN4nWiEt1xa8S5uPPPKI/Oxn/yjdn%2bgumQ8%2b%2bLC1n%2bazvhRl3HQLavIiuynG0ox%2buvtAhtUB2bCJyiAo4hpYDxRRRX42c6Z2dSiENm3erEHUNkfJ7QQ2/Jx6gKCJsJbv094WsU2VJA9hHdpzcBlq1OhRMnHSJHnqqackw36ZXzKmv8QQfDZ6r7WU3etPeRnKIrmhAUFwEfby%2bY5fQ2hwJaxIuW2bG1ifTIPFL4f7fc3efJZ9jDq39UJVcottyJAhkpnnSs0gdzbpBD4HaPJYGtdv3qiLWd%2buBZbOKjqawut2PrivyUNDY4QWWxC8Yd78BYoKrfKwVrG1lW7/1W33uuAerRSrg0qRAGkt9pzHKk0p9ptncu%2b4d9/V6rJ///6SgdUZeYg0WYaXN9ysL%2bkax16TSwSdWGGTL8RcypSkXZqLl7TCY0z55X8rMVNiE/J4oj5IoGnKsD1CFEE8ASk%2bkbO1%2bdnAmif854nu3eVvHn9cunXrJhmoa7IPH43EOY0B/rlcvMJLsi8/FaWlVp/Rkc5019gFNZBAgKsPCRb3WaMVpdWHr%2bhY7CF4%2bkQLKysqEs%2byoTHJxam3hw%2bXjPXvUvcDEucUAV6KuZ2RbLGnXWdR%2bD2cgE%2bsum3bdkWCpUkCJkjg9wbHRim52USh90f84L%2bkRDgFKdfqAn/zxtZyIdxK%2b8iRogzBxaJ3CYnwXIEI3uC9IWqwLlf1Jau/1BFaDYtgMX0fwAlC93fd%2bg2qDHZ%2bCI5Al3tAB7%2b15HXXtTR3igIFUOxW3y8lRBboX3jhBXn88b%2bVPs86HpBLdIF8AuRrDprLy1HJTQ/f3/y50gSO1QSe4pjThLNeX2O4Be%2bnN0nsMRqbLHoxLFY6F%2bJxxxRA5/mXLtb0/xcXBEvTXnqKQ7uNDY1Rb61c4ZTkECX7e4kAmfcUB7yBOtGe3A%2bxAhFAltqAFAn0IUnx5wYvbqU1YZLu7HeWeG84k09pUkTDWlqQG2f9%2bpv1UU2QvC/rpT/7HaVM77eRIkttTSFPt%2bDEJkY2bKQqX3BKIfcziP7wBxQUS8HZbPiMrKZcf11NiXVxsA3wq199LJMcGcrc7ru5qqSQTbX10vL/dfjd5rSXquz7bzK3udTo0WOkS5c/D9KgX%2bnFrJhIbaQhEJBm%2bSTltd9Z%2bw01DtvVJRRZrwWVX0P43Z/HzmVtziT6cm00W8u4YvD%2b8lV92TKTT5AFv0/nj/r6Bt0aj7mKB3EferkUV2oKO8O5BMv083eSYSYFLhUsV7L3mFRCMl7pSxMNjdGr%2b5kYq2uji4sF7R3h3C1S5q05QXMJMfIDWokAKQGtZO5bPM%2b62tYY/csf/lAGDhwYKKB08aUCNTgE%2bK%2b7lvbvcqns0Gd8FuiS1k/7HWul5XOxGqWkc307LXhvp5lN1MGDX5UXX3wxjoD4iGuw3sE/7eXpW1khOaINj7SU%2bLWYZXOb7zKkbfP5r%2bPYkWkVopTB%2bS0yTYEpvhYroMrk/uSuTwz%2b3jz5MkGr3JzlNlFKy/R87EUMmCQ9iDWVlY4I3eLVFdN6fVgH3Gon52uPrzmPT2j8CjTtxY4kIswFIFhQ4V69esv/Ag%2b0Q9%2bqUFRSAAAAAElFTkSuQmCC' /%3e%3c/svg%3e" width="1430" data-srcset="/portfolio/assets/static/mvpe-design-pattern.82a2fbd.c491b61.png 480w, /portfolio/assets/static/mvpe-design-pattern.cbab2cf.c491b61.png 1024w" data-sizes="(max-width: 1430px) 100vw, 1430px" data-src="/portfolio/assets/static/mvpe-design-pattern.cbab2cf.c491b61.png"><noscript><img class="g-image g-image--lazy g-image--loaded" src="/portfolio/assets/static/mvpe-design-pattern.cbab2cf.c491b61.png" width="1430"></noscript></p>
<p>This method creates a twist on the MVP pattern, which includes the addition of your sceneâ€™s Entities (to which I've come to call MVPE), where we have the following:
The <code class="language-text">ViewController</code> is responsible for handling user interaction (taps, pinches, rotation and the like), and trigger events on the Presenter
The Presenter handles business logic (and in my example above, use the <code class="language-text">Services</code> to make API calls), and instantiates Entities based on information received by the <code class="language-text">ViewController</code> (position and rotation of entity, for example).  </p>
<p>Once an Entity is instantiated, the Presenter makes use of a protocol to request that the ViewController attaches new SCNNodes to the SCNScene. Methods defined in Entities can also be triggered by the Presenter to update the Entity (like changing the contents of SCNText, the position of a node, or to remove it entirely from the scene)</p>
<h4 id="conclusion"><a href="#conclusion" aria-hidden="true"><span class="icon icon-link"></span></a>Conclusion</h4>
<p>Having a whole new entity to account for in AR apps, as opposed to traditional iOS apps, means that design patterns should be adapted to handle that extra layer of complexity, and while my efforts may not present a perfect solution (As I'm still rather new to iOS development), I hope it may trigger some ideas among some of the more senior devs out there who'd like to chime in and share their views on the topic.  </p>
<p>Please feel free to offer your feedback, and experiences into it, it is my hope that we can find a more sophisticated way to develop AR content, in a more easily maintainable and efficient manner ðŸ™‚  </p>
<p>Sources:Â <br>
Viper Design Pattern:Â <a href="https://medium.com/slalom-engineering/clean-architecture-for-ios-development-using-the-viper-pattern-fac30f5d29fc" target="_blank" rel="nofollow noopener noreferrer">https://medium.com/slalom-engineering/clean-architecture-for-ios-development-using-the-viper-pattern-fac30f5d29fc</a><br>
MVVM Pattern:Â <a href="https://www.raywenderlich.com/34-design-patterns-by-tutorials-mvvm" target="_blank" rel="nofollow noopener noreferrer">https://www.raywenderlich.com/34-design-patterns-by-tutorials-mvvm</a>  </p>
</div><div class="post__footer"><div class="post-tags"><a href="/portfolio/tag/AR" class="post-tags__link"><span>#</span> AR
		</a><a href="/portfolio/tag/iOS" class="post-tags__link"><span>#</span> iOS
		</a><a href="/portfolio/tag/Swift" class="post-tags__link"><span>#</span> Swift
		</a></div></div></div></div><div class="post-comments"></div><div class="author post-author"><img alt="Author image" src="data:image/svg+xml,%3csvg fill='none' viewBox='0 0 256 256' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3e%3cdefs%3e%3cfilter id='__svg-blur-37'%3e%3cfeGaussianBlur in='SourceGraphic' stdDeviation='40'/%3e%3c/filter%3e%3c/defs%3e%3cimage x='0' y='0' filter='url(%23__svg-blur-37)' width='256' height='256' xlink:href='data:image/png%3bbase64%2ciVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAACXBIWXMAAAsTAAALEwEAmpwYAAAFu0lEQVR42u1bX4hUVRifOzubq66rpELkLpYJvqhEiVopi8JWmw9Z%2baRS4IMEIlhuYjuUSLAFBWIQrMzog1LUGiblgz4ERrsvhfqioWnkRg8RvSkYmDv%2bvpnvrJ%2bnM3fm3nvOuXdkL/y455575s75ft/5833fOSc3PlYeBoZyuK6PlYPx0VJAaeTlXFyVSqUKPT0xMTGZtn0pWUg2kpHzhkh2ZJaHbl0%2bXhkfKxV9kCCFD8tzK3ypWJV5tKb4asa/V74GCeVBTyTk%2bf4i0K/yiABqCY41P1iTtabw3P9fuCNBNXmgjZ9PAGcVATa7Qbjw92RsWMABCQH3%2bUVMwCVgmXznS3glmxcSdO2DgH1IbwQ%2bQnqYy7TJgdGP8BF/EJcEbfSfDpwCpgErgT%2bATr2ca%2bEnZXFNgqHvb4XWPxXvLwJvJmkFiWVwSYIgIODnEdK8eD8AnNfK%2bhPeEwlq6nsSuArsAnYDO4EPgf%2bAZ2RZr8K7%2bqCh%2bX8GvAMUgAXoCo/yWHAG%2bCpKN3CmMFsfFoOeavoPAz8Bcw1lXwVuAfO133hvrdZJEM3/PaDM6YI2LgTAP2gRH0jLMBXhbf2RbAFAL/AbcLDOwNgD/AxcA55XpOmmsTfhbfyh5vXNBbog0GzSvspXAiI9g94Ds4B5pi7gXXibJOiX1Gy9MpkQPkkFdL9fQWi9bhkZJ0hd%2bDS1kBnh06hQ5oT3WbHMCu%2bjgpkX3mVFUxNeM1oC06jMI/jke7pu/HXZWoWTTrdqduHQWiBlMRlVofNuM5f6oA2tJRVeKDAfFoxpGKvD/TFgFd0h4OPksQFkvS0kIG8xv58jSUsigE2Tm%2b%2bdqOez5F4DjzS17iDMUwpOHGM/fSd%2beID99z3AWwwKZq7XGY8jiEWnSzlcK4AvgS3ADuAHUmDDFi7YWyILgoCnyInRynYAT5giuZGDkhbdbk6fRp2fFs/rlPvdTDeQA2E7p3u5BczkvlRoNGZEIIHKJF6bEMrrhvAXhTvd1vTYZrDJVZNawwR0mGJ28UgoDfJznsCrU4miTiLG8KcIsBYizwBRCQj7cJ11OSVoUZQrSmKizvNafTdVatfrXL%2b2WGuP%2bGFdAiwYS8Xb104QCQMETidanNVI2Mwk7DJ5nV4JuI%2bEMervpTwTMvD3uaMVAqVrwpfyVCaO8GKqU/2%2bnxhA3n4xrj2YBBhmggLLsIZJ2KSizU1/TBCwlgjAc0dTBkUKXUA072mon7JnHuL7J8AXMtwetT%2bRRfULfTzq2p2vQVApC3easnuUrcJ3MuiORCJANhfcXwBukB0QZQnb8zSo6rodJBwSxMxB3o%2b490VacRJNqhPYC3yPj7wmWoUtl9aWIZQTCy8f8/oDaf4w8IY2pkXrU6IvzWjGskrDFGYBA1F/ct66Rd2DyEvvpk1M8Qwf986QNOGVpqWTFMcGCA1Vmz6UtjtsCq/LGcvVFrxMBERSvWxWvOVIeKCColNh8amFETcVEyNzdYrSpyUtHfD74L6V4VZdFwybfurZGfXKtOTKsNAubXp4jsPUq2WQUvjypPXl7H6TA9alyrTk3gCDIdUH3AG%2bMbxTdvrLvFFqg05QS%2b4OMbjWB4ErugUnfIy3gWEZwUl1YLS4YqP8ddohPkGboHT/nIkYpY2U2kJHOiRY3iYnSfgO6W/12D3yXwFGpAPT8nsENcdKabQXeTdpzVELZtBy1kth2vdCgosPK69MNPcLwPvi/TLRKpr22zO/T1hfuxfNfRvSv4rTI7RZepscF5LFHTO2U1yPJiPdjvTvvCOURvuTIuYY%2beBUps8K1GsFdFSGorUca3w3jvatyOB7bhXxuQW8d/i02MQQ%2bDwvdI8ET8KLwXBy5Efe50r7No7NZfLEWEgrWEobMKKsN1gnIQXhc7rAjQ5HuCRBLVp6Ozqr2QNBrJi9FRL46Kzvw9NaK3Aetm54eNr38fkMxS%2brx%2bfvArLGgebW4%2bv%2bAAAAAElFTkSuQmCC' /%3e%3c/svg%3e" width="256" data-src="/portfolio/assets/static/personal_logo_transparent_256.64c089f.18e530c.png" data-srcset="/portfolio/assets/static/personal_logo_transparent_256.64c089f.18e530c.png 256w" data-sizes="(max-width: 256px) 100vw, 256px" class="author__image g-image g-image--lazy g-image--loading"><noscript><img src="/portfolio/assets/static/personal_logo_transparent_256.64c089f.18e530c.png" class="author__image g-image g-image--loaded" width="256" alt="Author image"></noscript><p class="author__intro">
		Articles about things that interest me, or things that I had to learn the hard way.
	</p></div></div></div>
        <script>window.__INITIAL_STATE__={"data":{"post":{"title":"MVP...E? - ARKit development and how to scale your AR apps","path":"\u002Fblog\u002Fmvpe-design-pattern-arkit","date":"11. December 2019","timeToRead":4,"cover_image":{"type":"image","mimeType":"image\u002Fpng","src":"\u002Fportfolio\u002Fassets\u002Fstatic\u002Fmvpe-design-pattern.3df3210.c491b61.png","size":{"width":1430,"height":1240},"sizes":"(max-width: 1430px) 100vw, 1430px","srcset":["\u002Fportfolio\u002Fassets\u002Fstatic\u002Fmvpe-design-pattern.1b91758.c491b61.png 480w","\u002Fportfolio\u002Fassets\u002Fstatic\u002Fmvpe-design-pattern.3df3210.c491b61.png 1024w"],"dataUri":"data:image\u002Fsvg+xml,%3csvg fill='none' viewBox='0 0 1430 1240' xmlns='http:\u002F\u002Fwww.w3.org\u002F2000\u002Fsvg' xmlns:xlink='http:\u002F\u002Fwww.w3.org\u002F1999\u002Fxlink'%3e%3cdefs%3e%3cfilter id='__svg-blur-34'%3e%3cfeGaussianBlur in='SourceGraphic' stdDeviation='40'\u002F%3e%3c\u002Ffilter%3e%3c\u002Fdefs%3e%3cimage x='0' y='0' filter='url(%23__svg-blur-34)' width='1430' height='1240' xlink:href='data:image\u002Fpng%3bbase64%2ciVBORw0KGgoAAAANSUhEUgAAAEAAAAA3CAYAAAC8TkynAAAACXBIWXMAABYlAAAWJQFJUiTwAAATXElEQVRo3t2aaZAcVXLHe3EEDsxijWSxMmJxEA77k%2b1dFtnsrj9g4TAWkpAAIYM2vGt2vbYc1hfL5pCQEGtASFgXutCaABbD6kBCCB3oPkf3fd\u002FS6Bxdo9E1mpme7p7p9PtlVda8qq4eifU3V8SL7q6qfvUy85%2bZ\u002F8xXmdeGDpWhQ4fIkCGv6ufKlSulKZeT\u002F6\u002FH8ePHpc8zfaR3r17Ss0cPyZjwr746WEaOHCG5fF5vbG5pkUJzc8nIFwpys75e7%2bO7jQIjvF5ucJ15beicbdyT9nz\u002F\u002F8lR7r6ik6ferfngwYOyfv166ftsX3nyySelR3engNdeCxAwePAgee%2b9ydLi\u002FtBSLJYONwmfTAZC7Hwx1GwxHHZwTRK\u002FEZCFNDQ2St4pMJtt0sUWw%2bu\u002FyWgO15s8\u002FOscJ0%2bdkn7P95MB\u002FzpAnn76mVYFvP76MPnFL15XFHz%2b%2beexP6cNHpVtaoq%2bI1R1dbVcvXZNhbl0qUbOnT%2bvwtU3NMiFixfl4qVLksvlperECTly5IiccJ9cM2t9XQUUU4RlTXU3b6qgfPpycL%2bhguPnP\u002F8n6dbtCenRo6dk3nzzDXn77eGqgLVr10bwL3pWTQ5TgITfq8%2bdU6tyjodfv3Ejuo\u002FvKMeHoyRQ83UHwqDA2itXVJmnnNCnTp%2bWK1evqvKPHD0aKcCeh8uucvFt4cKF8pOf\u002FIN0d9ZXBQwf\u002FpYqACTs279Pb\u002FZ9qCXF1xC2uaX1HhPGvrcqsRgtpKzv3sKvbQ0t3rNOnDwpS5ctky1btqjgrMc\u002FDh06HJ1jnRyN2az8yLnAT1\u002F4qTz\u002F3PPSo2fPQAEjRoxQBbzzzkjVnikgUEJzajBqcNrPpwQ9P6j5QbPQXEgNaNH\u002Fw4BaKDOnKYLfHJdqLsmXX85V1wJhp0%2bfUZRdcYi4cOGiIuLM2bMxY7Z4xhk\u002Ffrx0fewxFwd6SQbBQcG4cePkpoOv7y9%2bRG1ddEEVYEL5WaDZC6CR9YrB8AWNMoj7ZI5k1gmgG\u002Fq8O48r8bxAoIIaasnSpXLmTCB4VdUJp4TTsnv3bmf9Q3ru2LFjiXUUZeZnM2Xc2LHy3N89Jz\u002F4\u002Fg%2bk6191DRRAHJgyZYouSv9UxlpMlHMZoDF0geR1\u002FPJGXZ1ahVjA7zr3mwWROQwh\u002FnxAde%2b%2bfbJ\u002F\u002FwENYCcdvDc7aG\u002FevEUOHDgQoRIlHHM5fPeePXpu565d%2br897vfly7Uq8P79%2b9UlWAOQ95XK0f%2bf%2b0svZ\u002FW\u002F7vqYdKhoL3\u002FwwAMo4B15443\u002FlE8%2b%2bZ%2by%2bde3cJNbSGNj6%2bSmtBtOaBaPsDWXL2tAunb9ui6GRXMOq7byh7yijQC6YuUquXr1mhx2GeLgwUNy9OgxOegsyZy7nFVXr14t69atd0IeV0VwMP%2bRI0c1tx85cljOukxk1yxYtkQILMZS5ccffyyZTEbuvfdeyYwa9V\u002Fy1ltvuhQ4K4BiG0TEFJB12jVr2r2Qo3PnzqtwWBtBL9fW6pxAFUVIIgNwgJaNGzfpfOcvXFDrXnSp81JNjV4j0K1YsUItKmHabQpdgjl5LucsJYMK\u002FN%2bMgIJBFt%2bnz5ghw4YNk379npe77rpLOnbsKJkxY0ZrDFi48KvWoFHWBZojBcRihBsIDQyxxPGqKhXk7NlqXRifpKYrV66qMi5evOSC1QVdKHCf5fgH88EZjh%2bv0iiPAphr27ZtEYTLHa1IzcvOnTvVdUAiiiRNmvLHjBkrXR38H3MB8J57vikdfq9CMmPHjlEXWL1mdaThSOhEBFcEOEEhOS2JIIkvHz58WAPbOaf1o05gdRenLKwwd%2b48OeSuMxD8tFME6WrBgq9k2vQZYYwoREEylw\u002FqEVCFO\u002FCJJaurz%2bl3Ps%2bfv6DCBSgM1oK7VRk3cIPgiOJBVy6scaZOnSrt27eTDh0qQECggE2bNkWEoSRNsagQ1oECsrF7ghhQp9bFD3e5AIVvXnJpisWygBMnTpa14Eb37LowAxUTVBooT5w4WZYuXSarVgWxYMeOHc7Su1SR27fvCIJzWMNs3bpV0cMgaLIWkADilrrMMWTIUOnbt68TvkOggHHjxsoIxwN27toZICChAEshpgwsY7WAT4SwxOHDR1xEvqzU2DICCMDaBDirIwIL56OgtXLVKs3lzI%2blzHIob9%2b%2b\u002FTJ\u002FwQJ1G4Qi9zM3qODYsHFjmCYDNwFhuFBNzWUNkhjF5sbyD3z7AXn00Ued8O0VBZl33x0no0ePUr8xF0gGQj8LZJuyQRr0zhfCqI7fB\u002FCsVprKIBOwcIJVS0hm\u002FIEisfKmTZvl3wb%2bhyrqrLMs6QzFVYV1Q7LgIlvgWvvdurGwcQlcEYTs2btXDXLUxaXKykqdF8UokXJK\u002FPb990u7dt%2bUzMQJ4wUUUKSUxAB\u002FqAKaI782Zua7iRKYkEf4pMhocuROIQIsoltae2XQYNniIJwW5KL7Qz8mPe7du0%2bFQlBzXx%2bxphAzLmiYOnWafPrpp1JR0c4Fwrsl896kSTJxwgTHpqpiETVJaY3A4P9GakrocL4Qo75p\u002FQA\u002FcyQpLlCvDAsy31Va589Hvk5ARAEaHE%2beihTgP8sUceDAQb2%2bevUa6dz5funUqZM80a2b\u002FPEf\u002FaFkpkyeLBMcNwZybSHAzkOX\u002FQUVCkEK9P\u002FX7NHn5kQwzScaKXaOAzdYvnyFBlzf6gG6WmKowC1ggQTQtevWpafHkB\u002FgRnAKU3aNc8kf\u002F\u002FjvpaL9PZKZNHGiTJ400QWXiykKiCMAYWhoNIfaNXjHvntWzUfxoVCSVZKjGPr1\u002FPkLPBobKAe3Io4Q%2bIj8xBrS7OIlS9Sq010axRXgDFDk7S4GAHtDC7HkWkjHt2zdpuj5sz\u002F9E2nfzikA4T\u002F84APVqEGmfAxoUXpKdIfj47cEIIJYrWN9tVdqlYCgpOA\u002FpXO0pQAi%2bKxZn2vaNGbXmt62ueC2U5FKnQDZIsoTCFEOSkEw5oBAEUtmzPhM6wMKJOTjP52%2b1Um%2b\u002FxePSJfvflce%2bs53HAKc\u002F0%2bfNk01XdpXi1eD2PiUBp3DMnPmTG2gkGuvOkUQ8VEE8ILdNXm8wfdnGwUPIfxGYIT7cu5czRjmAqYA0uGhMNjtc0IhMOUvGQdDFEO3MP4AK12yZGl0H25FukRJELWePbpL507fckzQESHqAJ9NtdbpXtR2E3DPWQcncu\u002FAgf8u77\u002F\u002FvuPpK9U6DIoVlGABNXn4DRMLfP5xwJEnGh0IYYoj6CIS1oPlccAFyAJUkCht167d6hKQHqj0qbA0Nq5Q9Mpt\u002FgtiejgF3Hnnb7lqcORImTNnTnRTWxWhdmOgme4B5FoWQZ4FdgSa02HRg1KAHkGKwIZPbtmyVRfEfTscX8dCCAysEYz5Fi1eLFudH6cdwHrPnr2tcSpMidZs9ZsnHLjixpDd5kP3xZAPP9zF5f8KR4IqXC3QDgWMcIFnXjwFRikq7r%2bafpwLQFSAKfkXPg9zg2rij9xHUJo9%2bwtNa0D6146Bzf5ijqs31siiRYsUmlDWr75aKDNnzZIv3LVFixbLuvXrXTW3X619wAVE5t\u002FgKsW58%2bbLnC\u002FnOmUfj9pcRa\u002FVlgzCErbBoc8%2bvUcRC93zVznm2a\u002FfcwEC3nR1wNKlS6K00VbrSsmEsz4oSHaPLd3hZ1iKhxLNGdoYCRsk\u002FIacgBRYIgtFmZznHusnAFUGlSQo%2bmzmLI0tuAQpjf8aH2E%2bewa9CpgqcWHZsuUxMmXploN9kG98IxNsjESVoFcHpKUuhCSAQEDMp5M9ee5DAX4q9JufBt9kX9\u002FvQRZTXIC1UTmudAURSFq\u002FYYN88umvHcLmqXuAIFxs7dp1SnsZex0dJjsRCCnGwMiAAQPkvvvuUxdo3\u002F53JUM7fIObLIBKLt6zc\u002FxeiYv18pzGz7vJ4NnU7kRgYE8cIB7gy6QcHmxosABqRVQsK0Sf%2bTjri74HzzailTxQNNUgB2mPe0jToAbai2IorshQoARXHTp0qAwaPFh69%2b4ld9\u002F924ECokrQ6%2bxGRMgLMPD2hoZGhRrCo1kIhhU8NWEXBziXZX2xkY\u002FVB%2bnbaQWvEm1tqpqCD4WRHgMgbNA1rnHCnlZiRMOU1MfaaMpcv35D75k7b662xTKDBr2iEdsQkOTekQV0KyurPmsLMMuoL1oxFAadtNyfC%2beL8QNLd3Sa3PD5Q85DX4TEBN8nJXMgHBbnIKYQAyjNzSDWDJkxY4YLgD8SNoW7PPyQZF555WWNuskNkXIbFFh%2bzZpKhfv27dv1oRe09XRSXYEUBzG6nfkKt7EpcquB5YNd3ypNw\u002F7OVnJfMmiLjZEHH3xQnnn6KTd6S%2bbll19SPzYXMF\u002F3LWDWI5AddJUVTAwGiOLg5kCPyA0KyPdAzrbGIqva8Hw9WTgly%2bWoAxXOYcTI5uNeYgDPghZXhdmpKbF%2bH3W2U1RZuUZ%2b5%2b47JfPSSy9p97YYRlrf\u002F0poq2OGGzdsVItrHeDSFDHA0hj3VFauVdgFtX4rxJs8BdBTvHYtjBtOcTwf\u002Fk8sCVJZYyR0crdaEi4GEnkWSIQuR8E8sQljlJrsQKZYtnyZdOxYgQsMilrOt9q3o7ipdPBnMoRHEURXfusOrZtn2bIVsY1Jv4tjn8AW%2bsonuX27Y4N0doAwiEKYM2fOaiDDslR6sEaQx6dPqclIGADFbXJFUokcHj\u002Fh%2bPCjj%2bSOO%2b6Qzp1\u002FXyoqXDU4bNjrehFo5FNSUQyO7r7ljlyY9qNt8tA6KINcbUTlcm1QHGFh3ITKkZSE4Cid\u002F2xzcQToco%2b%2bN1DIR2QJcnM9rD6vhkij3A3aZtXO1U4r3SXXIyzcIGl1K4Js9xqjkfVmz54t3\u002FveQ8HmaHOS\u002FJR56yPrJoHnK0zDRQJlYMzijrlAtGjxEm1CkoctVWJJNiywHmSF\u002FG0LxOJ0dLBytOMUlsf%2bNr0d%2b1wBNHXadPX9jY4hQpdra68oIqG%2bCOlT30LJ5m3rHkOfPs9KZvz4CVEATAafXD5ORK47q7KNBWRhg1rkOAJCAYMvMlhM4AItsY1JO1Ac2cK2uVGIvXLDJwjB4iiuru6m7vsZgpgHN5jmFMB92u4OMxDKZT5TQN4nWiEt1xa8S5uPPPKI\u002FOxn\u002Fyjdn%2bgumQ8%2b%2bLC1n%2bazvhRl3HQLavIiuynG0ox%2buvtAhtUB2bCJyiAo4hpYDxRRRX42c6Z2dSiENm3erEHUNkfJ7QQ2\u002FJx6gKCJsJbv094WsU2VJA9hHdpzcBlq1OhRMnHSJHnqqackw36ZXzKmv8QQfDZ6r7WU3etPeRnKIrmhAUFwEfby%2bY5fQ2hwJaxIuW2bG1ifTIPFL4f7fc3efJZ9jDq39UJVcottyJAhkpnnSs0gdzbpBD4HaPJYGtdv3qiLWd%2buBZbOKjqawut2PrivyUNDY4QWWxC8Yd78BYoKrfKwVrG1lW7\u002F1W33uuAerRSrg0qRAGkt9pzHKk0p9ptncu%2b4d9\u002FV6rJ\u002F\u002F\u002F6SgdUZeYg0WYaXN9ysL%2bkax16TSwSdWGGTL8RcypSkXZqLl7TCY0z55X8rMVNiE\u002FJ4oj5IoGnKsD1CFEE8ASk%2bkbO1%2bdnAmif854nu3eVvHn9cunXrJhmoa7IPH43EOY0B\u002FrlcvMJLsi8\u002FFaWlVp\u002FRkc5019gFNZBAgKsPCRb3WaMVpdWHr%2bhY7CF4%2bkQLKysqEs%2byoTHJxam3hw%2bXjPXvUvcDEucUAV6KuZ2RbLGnXWdR%2bD2cgE%2bsum3bdkWCpUkCJkjg9wbHRim52USh90f84L%2bkRDgFKdfqAn\u002FzxtZyIdxK%2b8iRogzBxaJ3CYnwXIEI3uC9IWqwLlf1Jau\u002F1BFaDYtgMX0fwAlC93fd%2bg2qDHZ%2bCI5Al3tAB7%2b15HXXtTR3igIFUOxW3y8lRBboX3jhBXn88b%2bVPs86HpBLdIF8AuRrDprLy1HJTQ\u002Ff3\u002Fy50gSO1QSe4pjThLNeX2O4Be%2bnN0nsMRqbLHoxLFY6F%2bJxxxRA5\u002FmXLtb0\u002FxcXBEvTXnqKQ7uNDY1Rb61c4ZTkECX7e4kAmfcUB7yBOtGe3A%2bxAhFAltqAFAn0IUnx5wYvbqU1YZLu7HeWeG84k09pUkTDWlqQG2f9%2bpv1UU2QvC\u002FrpT\u002F7HaVM77eRIkttTSFPt%2bDEJkY2bKQqX3BKIfcziP7wBxQUS8HZbPiMrKZcf11NiXVxsA3wq199LJMcGcrc7ru5qqSQTbX10vL\u002Fdfjd5rSXquz7bzK3udTo0WOkS5c\u002FD9KgX%2bnFrJhIbaQhEJBm%2bSTltd9Z%2bw01DtvVJRRZrwWVX0P43Z\u002FHzmVtziT6cm00W8u4YvD%2b8lV92TKTT5AFv0\u002Fnj\u002Fr6Bt0aj7mKB3EferkUV2oKO8O5BMv083eSYSYFLhUsV7L3mFRCMl7pSxMNjdGr%2b5kYq2uji4sF7R3h3C1S5q05QXMJMfIDWokAKQGtZO5bPM%2b62tYY\u002Fcsf\u002FlAGDhwYKKB08aUCNTgE%2bK%2b7lvbvcqns0Gd8FuiS1k\u002F7HWul5XOxGqWkc307LXhvp5lN1MGDX5UXX3wxjoD4iGuw3sE\u002F7eXpW1khOaINj7SU%2bLWYZXOb7zKkbfP5r%2bPYkWkVopTB%2bS0yTYEpvhYroMrk\u002FuSuTwz%2b3jz5MkGr3JzlNlFKy\u002FR87EUMmCQ9iDWVlY4I3eLVFdN6fVgH3Gon52uPrzmPT2j8CjTtxY4kIswFIFhQ4V69esv\u002FAg%2b0Q9%2bqUFRSAAAAAElFTkSuQmCC' \u002F%3e%3c\u002Fsvg%3e"},"tags":[{"id":"AR","title":"AR","path":"\u002Ftag\u002FAR"},{"id":"iOS","title":"iOS","path":"\u002Ftag\u002FiOS"},{"id":"Swift","title":"Swift","path":"\u002Ftag\u002FSwift"}],"description":"The challenges of AR Development on iOS and how to overcome Massive View Controllers.","content":"\u003Ch4 id=\"introduction\"\u003E\u003Ca href=\"#introduction\" aria-hidden=\"true\"\u003E\u003Cspan class=\"icon icon-link\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003EIntroduction\u003C\u002Fh4\u003E\n\u003Cp\u003EThere is little doubt that VR and AR are becoming some of the hottest topics in tech right now. With constant leaks and speculations of what would a more refined version of a VR\u002FAR headset look like. While companies like Oculus, HTC, and Valve are fighting for the top spot in Virtual Reality headsets, when it comes to Augmented Reality, one of the companies whose name come out on top (despite not having released its version of AR glasses) is Apple.\u003C\u002Fp\u003E\n\u003Cp\u003EThe reason being that Apple has invested heavily in companies developing AR tech, and have gone as far as creating its own development kit for AR experiences and games, called ARKit, which uses the camera functionalities of your phone to find surfaces and reference points, to which you are able to attach your own 3D objects to (in a nutshell).\u003C\u002Fp\u003E\n\u003Ch4 id=\"the-mvc-problem\"\u003E\u003Ca href=\"#the-mvc-problem\" aria-hidden=\"true\"\u003E\u003Cspan class=\"icon icon-link\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003EThe MVC problem\u003C\u002Fh4\u003E\n\u003Cp\u003EWhile there are plenty of tutorials online that will get you covered on how to initiate your own scenes, and attach child nodes, animate them, or import your own assets to your project, there haven't been any tutorials that cover a smart way to organize your app to allow it to scale gracefully.\u003C\u002Fp\u003E\n\u003Cp\u003EWhat this means is that by following Apple's MVC design pattern, you end up creating your whole scene and interactions onto the ViewController itself, which then leaves you with \u003Cstrong\u003Emassive\u003C\u002Fstrong\u003E view controllers, and no easy way to refactor them into easier to manage sections.\u003C\u002Fp\u003E\n\u003Cp\u003ERealizing this problem, I set out to try and implement other well-known design patterns for iOS apps, and find the one that fits best alongside ARKit applications.\u003C\u002Fp\u003E\n\u003Ch4 id=\"iteration-is-key\"\u003E\u003Ca href=\"#iteration-is-key\" aria-hidden=\"true\"\u003E\u003Cspan class=\"icon icon-link\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003EIteration is key\u003C\u002Fh4\u003E\n\u003Cp\u003EAs I was (and still am) a newcomer to iOS development, the first thing I needed to do would be to list out the available design patterns, with their respective characteristics:\u003C\u002Fp\u003E\n\u003Cp\u003EMVC: Stands for Model-View-Controller, where the Model defines the state of the application, the view represents UI components, and the controller is responsible for allowing users to interact with the application's state.\u003C\u002Fp\u003E\n\u003Cp\u003EMVVM: Stands for Model-View-ViewModel, where the Model and View behave similarly to the MVC pattern, but the ViewModel is added to transform values from the model so that they can be used in the view.\u003C\u002Fp\u003E\n\u003Cp\u003EVIPER: Stands for View-Interactor-Presenter-Entities-Router, which provides a divided separation of concerns where the View displays information that is received from the Presenter, the Interactor retrieves entities and processes business logic, Entities are simple data objects (similar to Models), and the Router handles app navigation.  \u003C\u002Fp\u003E\n\u003Cp\u003EMVP: Stands for Model-View-Presenter, where the view handles the display of information and changes to the view itself, the presenter processes business logic and returns them to the view, and the Models are simple data structs.\u003C\u002Fp\u003E\n\u003Cp\u003ELooking at the basic descriptions of each pattern, it was hard to figure out exactly where should I be adding interactions and behavior to my AR entities, and a few failed experiments later, I've come to the conclusion that none of the currently popular design patterns can be efficiently utilized to design a reasonable large-scale AR app. A quick overview of my findings went as below:  \u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003EMVC: \u003Ccode class=\"language-text\"\u003EViewController\u003C\u002Fcode\u003Es become too massive too quickly.\u003C\u002Fli\u003E\n\u003Cli\u003EMVVM:Â  Does not translate well into ARKit functionality, as the \u003Ccode class=\"language-text\"\u003EViewModel\u003C\u002Fcode\u003E would require access to modify the \u003Ccode class=\"language-text\"\u003EARSCNView\u003C\u002Fcode\u003E outlet (which goes against the original pattern of having information flow FROM the \u003Ccode class=\"language-text\"\u003EViewModel\u003C\u002Fcode\u003E TO the \u003Ccode class=\"language-text\"\u003EViewController\u003C\u002Fcode\u003E)\u003C\u002Fli\u003E\n\u003Cli\u003EVIPER:Â Â Most used for applications with various screens, as most of the logic in an AR app gets rendered in a single storyboard View, the VIPER design pattern is unnecessarily complex for the scope of this project.  \u003C\u002Fli\u003E\n\u003Cli\u003EMVP: Having to add all entity manipulation logic on top of all of the business logic makes it just as susceptibleÂ to have massive Presenter files as the MVC pattern would have massive ViewControllers\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Ch4 id=\"the-answer\"\u003E\u003Ca href=\"#the-answer\" aria-hidden=\"true\"\u003E\u003Cspan class=\"icon icon-link\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003EThe Answer\u003C\u002Fh4\u003E\n\u003Cp\u003EThe answer as I've found, is to add a separate element to design patterns that are solely responsible for controlling an individual SCNNode element, my initial sketch of how the application would function went as below (please forgive my poor handwriting)\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cimg class=\"g-image g-image--lazy g-image--loading\" src=\"data:image\u002Fsvg+xml,%3csvg fill='none' viewBox='0 0 1430 1240' xmlns='http:\u002F\u002Fwww.w3.org\u002F2000\u002Fsvg' xmlns:xlink='http:\u002F\u002Fwww.w3.org\u002F1999\u002Fxlink'%3e%3cdefs%3e%3cfilter id='__svg-blur-21'%3e%3cfeGaussianBlur in='SourceGraphic' stdDeviation='40'\u002F%3e%3c\u002Ffilter%3e%3c\u002Fdefs%3e%3cimage x='0' y='0' filter='url(%23__svg-blur-21)' width='1430' height='1240' xlink:href='data:image\u002Fpng%3bbase64%2ciVBORw0KGgoAAAANSUhEUgAAAEAAAAA3CAYAAAC8TkynAAAACXBIWXMAABYlAAAWJQFJUiTwAAATXElEQVRo3t2aaZAcVXLHe3EEDsxijWSxMmJxEA77k%2b1dFtnsrj9g4TAWkpAAIYM2vGt2vbYc1hfL5pCQEGtASFgXutCaABbD6kBCCB3oPkf3fd\u002FS6Bxdo9E1mpme7p7p9PtlVda8qq4eifU3V8SL7q6qfvUy85%2bZ\u002F8xXmdeGDpWhQ4fIkCGv6ufKlSulKZeT\u002F6\u002FH8ePHpc8zfaR3r17Ss0cPyZjwr746WEaOHCG5fF5vbG5pkUJzc8nIFwpys75e7%2bO7jQIjvF5ucJ15beicbdyT9nz\u002F\u002F8lR7r6ik6ferfngwYOyfv166ftsX3nyySelR3engNdeCxAwePAgee%2b9ydLi\u002FtBSLJYONwmfTAZC7Hwx1GwxHHZwTRK\u002FEZCFNDQ2St4pMJtt0sUWw%2bu\u002FyWgO15s8\u002FOscJ0%2bdkn7P95MB\u002FzpAnn76mVYFvP76MPnFL15XFHz%2b%2beexP6cNHpVtaoq%2bI1R1dbVcvXZNhbl0qUbOnT%2bvwtU3NMiFixfl4qVLksvlperECTly5IiccJ9cM2t9XQUUU4RlTXU3b6qgfPpycL%2bhguPnP\u002F8n6dbtCenRo6dk3nzzDXn77eGqgLVr10bwL3pWTQ5TgITfq8%2bdU6tyjodfv3Ejuo\u002FvKMeHoyRQ83UHwqDA2itXVJmnnNCnTp%2bWK1evqvKPHD0aKcCeh8uucvFt4cKF8pOf\u002FIN0d9ZXBQwf\u002FpYqACTs279Pb\u002FZ9qCXF1xC2uaX1HhPGvrcqsRgtpKzv3sKvbQ0t3rNOnDwpS5ctky1btqjgrMc\u002FDh06HJ1jnRyN2az8yLnAT1\u002F4qTz\u002F3PPSo2fPQAEjRoxQBbzzzkjVnikgUEJzajBqcNrPpwQ9P6j5QbPQXEgNaNH\u002Fw4BaKDOnKYLfHJdqLsmXX85V1wJhp0%2bfUZRdcYi4cOGiIuLM2bMxY7Z4xhk\u002Ffrx0fewxFwd6SQbBQcG4cePkpoOv7y9%2bRG1ddEEVYEL5WaDZC6CR9YrB8AWNMoj7ZI5k1gmgG\u002Fq8O48r8bxAoIIaasnSpXLmTCB4VdUJp4TTsnv3bmf9Q3ru2LFjiXUUZeZnM2Xc2LHy3N89Jz\u002F4\u002Fg%2bk6191DRRAHJgyZYouSv9UxlpMlHMZoDF0geR1\u002FPJGXZ1ahVjA7zr3mwWROQwh\u002FnxAde%2b%2bfbJ\u002F\u002FwENYCcdvDc7aG\u002FevEUOHDgQoRIlHHM5fPeePXpu565d%2br897vfly7Uq8P79%2b9UlWAOQ95XK0f%2bf%2b0svZ\u002FW\u002F7vqYdKhoL3\u002FwwAMo4B15443\u002FlE8%2b%2bZ%2by%2bde3cJNbSGNj6%2bSmtBtOaBaPsDWXL2tAunb9ui6GRXMOq7byh7yijQC6YuUquXr1mhx2GeLgwUNy9OgxOegsyZy7nFVXr14t69atd0IeV0VwMP%2bRI0c1tx85cljOukxk1yxYtkQILMZS5ccffyyZTEbuvfdeyYwa9V\u002Fy1ltvuhQ4K4BiG0TEFJB12jVr2r2Qo3PnzqtwWBtBL9fW6pxAFUVIIgNwgJaNGzfpfOcvXFDrXnSp81JNjV4j0K1YsUItKmHabQpdgjl5LucsJYMK\u002FN%2bMgIJBFt%2bnz5ghw4YNk379npe77rpLOnbsKJkxY0ZrDFi48KvWoFHWBZojBcRihBsIDQyxxPGqKhXk7NlqXRifpKYrV66qMi5evOSC1QVdKHCf5fgH88EZjh%2bv0iiPAphr27ZtEYTLHa1IzcvOnTvVdUAiiiRNmvLHjBkrXR38H3MB8J57vikdfq9CMmPHjlEXWL1mdaThSOhEBFcEOEEhOS2JIIkvHz58WAPbOaf1o05gdRenLKwwd%2b48OeSuMxD8tFME6WrBgq9k2vQZYYwoREEylw\u002FqEVCFO\u002FCJJaurz%2bl3Ps%2bfv6DCBSgM1oK7VRk3cIPgiOJBVy6scaZOnSrt27eTDh0qQECggE2bNkWEoSRNsagQ1oECsrF7ghhQp9bFD3e5AIVvXnJpisWygBMnTpa14Eb37LowAxUTVBooT5w4WZYuXSarVgWxYMeOHc7Su1SR27fvCIJzWMNs3bpV0cMgaLIWkADilrrMMWTIUOnbt68TvkOggHHjxsoIxwN27toZICChAEshpgwsY7WAT4SwxOHDR1xEvqzU2DICCMDaBDirIwIL56OgtXLVKs3lzI%2blzHIob9%2b%2b\u002FTJ\u002FwQJ1G4Qi9zM3qODYsHFjmCYDNwFhuFBNzWUNkhjF5sbyD3z7AXn00Ued8O0VBZl33x0no0ePUr8xF0gGQj8LZJuyQRr0zhfCqI7fB\u002FCsVprKIBOwcIJVS0hm\u002FIEisfKmTZvl3wb%2bhyrqrLMs6QzFVYV1Q7LgIlvgWvvdurGwcQlcEYTs2btXDXLUxaXKykqdF8UokXJK\u002FPb990u7dt%2bUzMQJ4wUUUKSUxAB\u002FqAKaI782Zua7iRKYkEf4pMhocuROIQIsoltae2XQYNniIJwW5KL7Qz8mPe7du0%2bFQlBzXx%2bxphAzLmiYOnWafPrpp1JR0c4Fwrsl896kSTJxwgTHpqpiETVJaY3A4P9GakrocL4Qo75p\u002FQA\u002FcyQpLlCvDAsy31Va589Hvk5ARAEaHE%2beihTgP8sUceDAQb2%2bevUa6dz5funUqZM80a2b\u002FPEf\u002FaFkpkyeLBMcNwZybSHAzkOX\u002FQUVCkEK9P\u002FX7NHn5kQwzScaKXaOAzdYvnyFBlzf6gG6WmKowC1ggQTQtevWpafHkB\u002FgRnAKU3aNc8kf\u002F\u002FjvpaL9PZKZNHGiTJ400QWXiykKiCMAYWhoNIfaNXjHvntWzUfxoVCSVZKjGPr1\u002FPkLPBobKAe3Io4Q%2bIj8xBrS7OIlS9Sq010axRXgDFDk7S4GAHtDC7HkWkjHt2zdpuj5sz\u002F9E2nfzikA4T\u002F84APVqEGmfAxoUXpKdIfj47cEIIJYrWN9tVdqlYCgpOA\u002FpXO0pQAi%2bKxZn2vaNGbXmt62ueC2U5FKnQDZIsoTCFEOSkEw5oBAEUtmzPhM6wMKJOTjP52%2b1Um%2b\u002FxePSJfvflce%2bs53HAKc\u002F0%2bfNk01XdpXi1eD2PiUBp3DMnPmTG2gkGuvOkUQ8VEE8ILdNXm8wfdnGwUPIfxGYIT7cu5czRjmAqYA0uGhMNjtc0IhMOUvGQdDFEO3MP4AK12yZGl0H25FukRJELWePbpL507fckzQESHqAJ9NtdbpXtR2E3DPWQcncu\u002FAgf8u77\u002F\u002FvuPpK9U6DIoVlGABNXn4DRMLfP5xwJEnGh0IYYoj6CIS1oPlccAFyAJUkCht167d6hKQHqj0qbA0Nq5Q9Mpt\u002FgtiejgF3Hnnb7lqcORImTNnTnRTWxWhdmOgme4B5FoWQZ4FdgSa02HRg1KAHkGKwIZPbtmyVRfEfTscX8dCCAysEYz5Fi1eLFudH6cdwHrPnr2tcSpMidZs9ZsnHLjixpDd5kP3xZAPP9zF5f8KR4IqXC3QDgWMcIFnXjwFRikq7r%2bafpwLQFSAKfkXPg9zg2rij9xHUJo9%2bwtNa0D6146Bzf5ijqs31siiRYsUmlDWr75aKDNnzZIv3LVFixbLuvXrXTW3X619wAVE5t\u002FgKsW58%2bbLnC\u002FnOmUfj9pcRa\u002FVlgzCErbBoc8%2bvUcRC93zVznm2a\u002FfcwEC3nR1wNKlS6K00VbrSsmEsz4oSHaPLd3hZ1iKhxLNGdoYCRsk\u002FIacgBRYIgtFmZznHusnAFUGlSQo%2bmzmLI0tuAQpjf8aH2E%2bewa9CpgqcWHZsuUxMmXploN9kG98IxNsjESVoFcHpKUuhCSAQEDMp5M9ee5DAX4q9JufBt9kX9\u002FvQRZTXIC1UTmudAURSFq\u002FYYN88umvHcLmqXuAIFxs7dp1SnsZex0dJjsRCCnGwMiAAQPkvvvuUxdo3\u002F53JUM7fIObLIBKLt6zc\u002FxeiYv18pzGz7vJ4NnU7kRgYE8cIB7gy6QcHmxosABqRVQsK0Sf%2bTjri74HzzailTxQNNUgB2mPe0jToAbai2IorshQoARXHTp0qAwaPFh69%2b4ld9\u002F924ECokrQ6%2bxGRMgLMPD2hoZGhRrCo1kIhhU8NWEXBziXZX2xkY\u002FVB%2bnbaQWvEm1tqpqCD4WRHgMgbNA1rnHCnlZiRMOU1MfaaMpcv35D75k7b662xTKDBr2iEdsQkOTekQV0KyurPmsLMMuoL1oxFAadtNyfC%2beL8QNLd3Sa3PD5Q85DX4TEBN8nJXMgHBbnIKYQAyjNzSDWDJkxY4YLgD8SNoW7PPyQZF555WWNuskNkXIbFFh%2bzZpKhfv27dv1oRe09XRSXYEUBzG6nfkKt7EpcquB5YNd3ypNw\u002F7OVnJfMmiLjZEHH3xQnnn6KTd6S%2bbll19SPzYXMF\u002F3LWDWI5AddJUVTAwGiOLg5kCPyA0KyPdAzrbGIqva8Hw9WTgly%2bWoAxXOYcTI5uNeYgDPghZXhdmpKbF%2bH3W2U1RZuUZ%2b5%2b47JfPSSy9p97YYRlrf\u002F0poq2OGGzdsVItrHeDSFDHA0hj3VFauVdgFtX4rxJs8BdBTvHYtjBtOcTwf\u002Fk8sCVJZYyR0crdaEi4GEnkWSIQuR8E8sQljlJrsQKZYtnyZdOxYgQsMilrOt9q3o7ipdPBnMoRHEURXfusOrZtn2bIVsY1Jv4tjn8AW%2bsonuX27Y4N0doAwiEKYM2fOaiDDslR6sEaQx6dPqclIGADFbXJFUokcHj\u002Fh%2bPCjj%2bSOO%2b6Qzp1\u002FXyoqXDU4bNjrehFo5FNSUQyO7r7ljlyY9qNt8tA6KINcbUTlcm1QHGFh3ITKkZSE4Cid\u002F2xzcQToco%2b%2bN1DIR2QJcnM9rD6vhkij3A3aZtXO1U4r3SXXIyzcIGl1K4Js9xqjkfVmz54t3\u002FveQ8HmaHOS\u002FJR56yPrJoHnK0zDRQJlYMzijrlAtGjxEm1CkoctVWJJNiywHmSF\u002FG0LxOJ0dLBytOMUlsf%2bNr0d%2b1wBNHXadPX9jY4hQpdra68oIqG%2bCOlT30LJ5m3rHkOfPs9KZvz4CVEATAafXD5ORK47q7KNBWRhg1rkOAJCAYMvMlhM4AItsY1JO1Ac2cK2uVGIvXLDJwjB4iiuru6m7vsZgpgHN5jmFMB92u4OMxDKZT5TQN4nWiEt1xa8S5uPPPKI\u002FOxn\u002Fyjdn%2bgumQ8%2b%2bLC1n%2bazvhRl3HQLavIiuynG0ox%2buvtAhtUB2bCJyiAo4hpYDxRRRX42c6Z2dSiENm3erEHUNkfJ7QQ2\u002FJx6gKCJsJbv094WsU2VJA9hHdpzcBlq1OhRMnHSJHnqqackw36ZXzKmv8QQfDZ6r7WU3etPeRnKIrmhAUFwEfby%2bY5fQ2hwJaxIuW2bG1ifTIPFL4f7fc3efJZ9jDq39UJVcottyJAhkpnnSs0gdzbpBD4HaPJYGtdv3qiLWd%2buBZbOKjqawut2PrivyUNDY4QWWxC8Yd78BYoKrfKwVrG1lW7\u002F1W33uuAerRSrg0qRAGkt9pzHKk0p9ptncu%2b4d9\u002FV6rJ\u002F\u002F\u002F6SgdUZeYg0WYaXN9ysL%2bkax16TSwSdWGGTL8RcypSkXZqLl7TCY0z55X8rMVNiE\u002FJ4oj5IoGnKsD1CFEE8ASk%2bkbO1%2bdnAmif854nu3eVvHn9cunXrJhmoa7IPH43EOY0B\u002FrlcvMJLsi8\u002FFaWlVp\u002FRkc5019gFNZBAgKsPCRb3WaMVpdWHr%2bhY7CF4%2bkQLKysqEs%2byoTHJxam3hw%2bXjPXvUvcDEucUAV6KuZ2RbLGnXWdR%2bD2cgE%2bsum3bdkWCpUkCJkjg9wbHRim52USh90f84L%2bkRDgFKdfqAn\u002FzxtZyIdxK%2b8iRogzBxaJ3CYnwXIEI3uC9IWqwLlf1Jau\u002F1BFaDYtgMX0fwAlC93fd%2bg2qDHZ%2bCI5Al3tAB7%2b15HXXtTR3igIFUOxW3y8lRBboX3jhBXn88b%2bVPs86HpBLdIF8AuRrDprLy1HJTQ\u002Ff3\u002Fy50gSO1QSe4pjThLNeX2O4Be%2bnN0nsMRqbLHoxLFY6F%2bJxxxRA5\u002FmXLtb0\u002FxcXBEvTXnqKQ7uNDY1Rb61c4ZTkECX7e4kAmfcUB7yBOtGe3A%2bxAhFAltqAFAn0IUnx5wYvbqU1YZLu7HeWeG84k09pUkTDWlqQG2f9%2bpv1UU2QvC\u002FrpT\u002F7HaVM77eRIkttTSFPt%2bDEJkY2bKQqX3BKIfcziP7wBxQUS8HZbPiMrKZcf11NiXVxsA3wq199LJMcGcrc7ru5qqSQTbX10vL\u002Fdfjd5rSXquz7bzK3udTo0WOkS5c\u002FD9KgX%2bnFrJhIbaQhEJBm%2bSTltd9Z%2bw01DtvVJRRZrwWVX0P43Z\u002FHzmVtziT6cm00W8u4YvD%2b8lV92TKTT5AFv0\u002Fnj\u002Fr6Bt0aj7mKB3EferkUV2oKO8O5BMv083eSYSYFLhUsV7L3mFRCMl7pSxMNjdGr%2b5kYq2uji4sF7R3h3C1S5q05QXMJMfIDWokAKQGtZO5bPM%2b62tYY\u002Fcsf\u002FlAGDhwYKKB08aUCNTgE%2bK%2b7lvbvcqns0Gd8FuiS1k\u002F7HWul5XOxGqWkc307LXhvp5lN1MGDX5UXX3wxjoD4iGuw3sE\u002F7eXpW1khOaINj7SU%2bLWYZXOb7zKkbfP5r%2bPYkWkVopTB%2bS0yTYEpvhYroMrk\u002FuSuTwz%2b3jz5MkGr3JzlNlFKy\u002FR87EUMmCQ9iDWVlY4I3eLVFdN6fVgH3Gon52uPrzmPT2j8CjTtxY4kIswFIFhQ4V69esv\u002FAg%2b0Q9%2bqUFRSAAAAAElFTkSuQmCC' \u002F%3e%3c\u002Fsvg%3e\" width=\"1430\" data-srcset=\"\u002Fportfolio\u002Fassets\u002Fstatic\u002Fmvpe-design-pattern.82a2fbd.c491b61.png 480w, \u002Fportfolio\u002Fassets\u002Fstatic\u002Fmvpe-design-pattern.cbab2cf.c491b61.png 1024w\" data-sizes=\"(max-width: 1430px) 100vw, 1430px\" data-src=\"\u002Fportfolio\u002Fassets\u002Fstatic\u002Fmvpe-design-pattern.cbab2cf.c491b61.png\"\u003E\u003Cnoscript\u003E\u003Cimg class=\"g-image g-image--lazy g-image--loaded\" src=\"\u002Fportfolio\u002Fassets\u002Fstatic\u002Fmvpe-design-pattern.cbab2cf.c491b61.png\" width=\"1430\"\u003E\u003C\u002Fnoscript\u003E\u003C\u002Fp\u003E\n\u003Cp\u003EThis method creates a twist on the MVP pattern, which includes the addition of your sceneâ€™s Entities (to which I've come to call MVPE), where we have the following:\nThe \u003Ccode class=\"language-text\"\u003EViewController\u003C\u002Fcode\u003E is responsible for handling user interaction (taps, pinches, rotation and the like), and trigger events on the Presenter\nThe Presenter handles business logic (and in my example above, use the \u003Ccode class=\"language-text\"\u003EServices\u003C\u002Fcode\u003E to make API calls), and instantiates Entities based on information received by the \u003Ccode class=\"language-text\"\u003EViewController\u003C\u002Fcode\u003E (position and rotation of entity, for example).  \u003C\u002Fp\u003E\n\u003Cp\u003EOnce an Entity is instantiated, the Presenter makes use of a protocol to request that the ViewController attaches new SCNNodes to the SCNScene. Methods defined in Entities can also be triggered by the Presenter to update the Entity (like changing the contents of SCNText, the position of a node, or to remove it entirely from the scene)\u003C\u002Fp\u003E\n\u003Ch4 id=\"conclusion\"\u003E\u003Ca href=\"#conclusion\" aria-hidden=\"true\"\u003E\u003Cspan class=\"icon icon-link\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003EConclusion\u003C\u002Fh4\u003E\n\u003Cp\u003EHaving a whole new entity to account for in AR apps, as opposed to traditional iOS apps, means that design patterns should be adapted to handle that extra layer of complexity, and while my efforts may not present a perfect solution (As I'm still rather new to iOS development), I hope it may trigger some ideas among some of the more senior devs out there who'd like to chime in and share their views on the topic.  \u003C\u002Fp\u003E\n\u003Cp\u003EPlease feel free to offer your feedback, and experiences into it, it is my hope that we can find a more sophisticated way to develop AR content, in a more easily maintainable and efficient manner ðŸ™‚  \u003C\u002Fp\u003E\n\u003Cp\u003ESources:Â \u003Cbr\u003E\nViper Design Pattern:Â \u003Ca href=\"https:\u002F\u002Fmedium.com\u002Fslalom-engineering\u002Fclean-architecture-for-ios-development-using-the-viper-pattern-fac30f5d29fc\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"\u003Ehttps:\u002F\u002Fmedium.com\u002Fslalom-engineering\u002Fclean-architecture-for-ios-development-using-the-viper-pattern-fac30f5d29fc\u003C\u002Fa\u003E\u003Cbr\u003E\nMVVM Pattern:Â \u003Ca href=\"https:\u002F\u002Fwww.raywenderlich.com\u002F34-design-patterns-by-tutorials-mvvm\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"\u003Ehttps:\u002F\u002Fwww.raywenderlich.com\u002F34-design-patterns-by-tutorials-mvvm\u003C\u002Fa\u003E  \u003C\u002Fp\u003E\n"}},"context":{}};(function(){var s;(s=document.currentScript||document.scripts[document.scripts.length-1]).parentNode.removeChild(s);}());</script><script src="/portfolio/assets/js/app.765d9c56.js" defer></script><script src="/portfolio/assets/js/page--src--templates--post-vue.1ea4ec55.js" defer></script>
    </body>
</html>